---
title: 数据结构之进制转换
copyright: true
date: 2019-08-17 21:08:05
tags:
	- 栈
	- 进制转化
categories:
	- 数据结构
---
# 栈的介绍
+ 定义: 
   栈是一种数据结构，一种特殊的线性表
+ 特点:
 + 只允许在一端进行插入操作，另一端进行删除操作
 + 元素满足先进后出原则，即先入栈的元素最后出栈


# 算法详解
算法很简单，除Ｘ取余法，用栈来把余数存起来，再出栈即可
上代码: 

```
#include <stdio.h>
#include <stdlib.h>
#define maxsize 10

typedef struct 
{
    int data[maxsize];
    int top;
}seqstack, *pseqstack;


pseqstack init_stack(){
    pseqstack s = (pseqstack)malloc(sizeof(seqstack));
    if(s){
        s -> top = -1;
    }
    return s;
}

void push_stack(pseqstack s, int e){
    if (!s || s -> top > maxsize -1){
        printf("入栈失败!\n");
        //return 0;
    }
    else{
        s -> top ++;        /*一定要先把ＴＯＰ加一，否则top 原来是－１,导致第一个元素入栈失败(bug fixed!)　*/
        s -> data[s -> top] = e;
        //return 1;
    }
}

int pop_stack(pseqstack s, int *x){
    if (!s || s -> top == -1){
        printf("出栈失败!\n");
        return -1;
    }
    else{
        *x = s -> data[s -> top];
        s -> top --;
        return *x;
    }
}

/*　输出栈的每一个元素　*/
void print_each(pseqstack s){
    int top0 = s->top;
    while(top0 != -1){
        printf("%d\n", s->data[top0]);
        top0 --;
    }
    
}

/*进制转换，x是十进制de 数，y 是待转换进制*/
void transfer(pseqstack s, int x, int y){
    
    int res;
    /* 　整除后不等于０，　执行循环 */
    while(x != 0){
        push_stack(s, (x%y));
        x = x / y;
    }

    //printf("%d\n", s->top);

    /*　加上输出功能　*/
    
    while(s-> top != -1){
        pop_stack(s, &res);
        printf("%d", res);
        if (s->top == -1){
            printf("\n");
        }
    }
    
}


int main(){
    
    int num;        // 十进制数
    int scale;      // 要转换的进制数
    printf("输入十进制数字，进制数: ");
    scanf("%d %d", &num, &scale);

    pseqstack S = init_stack();
    transfer(S, num, scale);
    
    //print_each(S);
    
}
```

