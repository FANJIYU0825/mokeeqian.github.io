title: C变量--声明、定义、赋值、初始化
author: Qian Jipeng
tags:
  - C语言
  - 声明
  - 赋值
  - 定义
  - 初始化
categories:
  - C
date: 2019-09-04 17:31:00
---
　　出来混总是要还的，这不，来还大一C的陈年旧账了。打算深入细致的学习一下计算机，所以必须要从基础打起来。这篇文章算是扫盲篇吧。讲述C中的变量的声明、定义、赋值和初始化。为了让文章通俗易懂，我就只介绍一下它们的区别了吧。下一篇我们再讨论C/C++内存管理，会涉及const、static、auto等等这些变量类型。</br>
说明一下，这篇文章是关于C语言的变量的。
# 变量定义
　　变量的定义就是告诉编译器，我要创建一个变量了，你要找个地方将它存放起来，这个地方可以是堆栈(局部变量)，也可以是寄存器(寄存器变量)，还可以是...</br>
变量的定义指定了一个数据类型，可以是int，也可以是char，也可以是struct...</br>
　　总结一下，变量的定义可以概括为：</br>
` type variablelist `
type表示的是变量的数据类型，variablelist表示的是一个变量列表，存放的是一个个变量，用逗号隔开。</br>
举个例子：</br>
` int a,b,c; `
这里就定义了三个int类型的变量a,b,c</br>

# 变量声明
　　那么什么是变量的声明呢？</br>
变量声明可以理解为程序员给编译器一个“保证”，程序员：“我待会要使用一个变量，但是这个变量我现在用不上，我先这样写者，你编译我程序的时候，不要报错。”</br>
所以，变量声明向编译器保证变量会以一定的类型和名称存在特定的地方，所以编译器就可以在不知道这个变量的细节的情况下，进行编译。值得一提的是，变量声明只在程序的编译时有效，链接时需要程序员给变量实际的变量定义，否则，报错。</br>

# 变量的初始化
变量的初始化是给变量赋予一个值。</br>
C中两种类型的表达式：**左值表达式**和**右值表达式**</br>
## 左值
早期的C给出的定义是：<br>
**<font color=hotpink>左值是一个表达式，可能出现在赋值操作的左边或右边，但右值只能出现在右边。</font>**</br>
我觉得这个定义实在是太模糊了，甚至它是错的。比如：</br>
` a*b = 100 `</br>
显然这个写法是错误的，但是它符合上述说法。</br>
我的理解是：</br>
**<font color=red>左值（lvalue）是一个表达式，它表示一个可被标识的（变量或对象的）内存位置，并且允许使用&操作符来获取这块内存的地址。</font>**
```
  int i = 42;
  i = 43; 
  int* p = &i; // ok, i 是左值
  int& foo();
  foo() = 42; // ok, foo() 是左值
  int* p1 = &foo(); // ok, foo() 是左值

  int foobar();
  int j = 0;
  j = foobar(); // ok, foobar() 是右值
  int* p2 = &foobar(); // 错误，不能获取右值的地址
  j = 42; // ok, 42 是右值
```
## 右值
那么不是左值，便是右值了。

## 关于局部变量和全局变量
局部变量需要程序员自己初始化，全局变量会被编译器自动初始化，但是我们还是应该养成良好的变成变成习惯，正确定义和初始化变量。</br>
int ---> 0</br>
double ---> 0</br>
float ---> 0</br>
char ---> 0</br>
ptr ---> NULL
  

